<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/styles.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts</title>
    <link rel="stylesheet" href="/styles.css"> <!-- Add your CSS file if needed -->
</head>
<body>
    
    
    <h1>All Posts</h1>

    <a href="/posts/create">Create New Post</a> <!-- Link to create a new post -->

    <ul>
        <% posts.forEach(post => { %>
            <li>
                <strong>
                    <%= post.user_id ? post.user_id.username : "Unknown User" %> - 
                    <%= post.player_id ? post.player_id.name : "Unknown Player" %>
                </strong>
                <p><%= post.content %></p>
                
                <!-- Edit Button -->
                <a href="/posts/edit/<%= post._id %>">Edit</a>
                <form action="/posts/<%= post._id %>/delete" method="POST" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this post?')">Delete</button>
                </form>
            </li>
        <% }); %>
    </ul>
</body>
</html>
